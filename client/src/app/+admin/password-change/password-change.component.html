<div class="div__header">
  <h3 class="h3__small-margins h3__padding">Passwort ändern</h3>
</div>
<div class="admin-container">
  <form class="form" #f="ngForm" novalidate (ngSubmit)="changePassword(f.value, f)">
    <section class="section">
      <md-input-container class="full-width">
        <input mdInput placeholder="aktuelles Passwort" name="currentPassword" type="password" required
               #currentPasswordControl="ngModel" [ngModel]="currentPassword">
        <md-hint *ngIf="!currentPasswordControl.valid" [ngStyle]="{'color': 'red'}" align="start">erforderlich
        </md-hint>
      </md-input-container>
    </section>
    <section class="section">
      <md-input-container class="full-width">
        <input mdInput placeholder="neues Passwort" name="password" type="password" #passwordControl="ngModel"
               [ngModel]="password" required validateEqual=confirmPassword reverse="true" minlength="8"
               password [digitCharacter]="1" [lowercaseCharacter]="1" [uppercaseCharacter]="1">
        <md-hint *ngIf="!passwordControl.valid" [ngStyle]="{'color': 'red'}" align="start">Klein & Gross & Zahl, mind. 8 Zeichen
          Zeichen
        </md-hint>
      </md-input-container>
    </section>
    <section class="section">
      <md-input-container class="full-width">
        <input mdInput placeholder="Passwort wiederholen" name="confirmPassword" type="password"
               #confirmPasswordControl="ngModel" [ngModel]="confirmPassword" required validateEqual=password>
        <md-hint *ngIf="!confirmPasswordControl.valid" [ngStyle]="{'color': 'red'}" align="start">Passwörter sind nicht
          identisch
        </md-hint>
      </md-input-container>
    </section>
    <div class="button-row">
      <span class="fill-remaining-space"></span>
      <button md-button type="submit" [disabled]="!f.valid" class="grayButton">Passwort ändern</button>
    </div>
  </form>
  <p>{{message}}</p>
  <app-my-spinner [isRunning]="busy" [delay]="150"></app-my-spinner>
</div>
